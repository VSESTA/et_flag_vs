<%- include ("./menu"); %>
<div class="container">
    <h1>Categories</h1>
    <div class="row">
        <a class="d-flex justify-content-end" href="/admin/category/0">New Category</a>
    </div>
    <div class="row my-4">
        <div class="col-md-12">
            <form method="get">
            <div class="table-responsive">
                <table class="table table-striped text-center">
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Name</th>
                            <th>Description</th>
                            <th>Is Active</th>
                            <th>Created At</th>
                            <th>Updated At</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <%if(typeof(categories) != 'undefined'){%>
                    <tbody>
                        <% categories.forEach(function(category){ %>
                            <tr>
                                <td><%=category.id%></td>
                                <td><%=category.name%></td>
                                <td><%=category.description%></td>
                                <td><%=category.is_active%></td>
                                <td><%if(!category.created_at) { %> null<%}else{ %> <%=category.created_at.toISOString().split('T')[0]%> <%=category.created_at.toISOString().split('T')[1].split('.')[0]%><%}%></td>
                                <td><%if(!category.updated_at) { %> null<%}else{ %> <%=category.updated_at.toISOString().split('T')[0]%> <%=category.updated_at.toISOString().split('T')[1].split('.')[0]%><%}%></td>
                                <td>
                                    <a href="/admin/category/<%=category.id%>"><i class="fa-solid fa-pen-to-square"></i></a>
                                </td>
                            </tr>
                            <% }) %>
                    </tbody>
                    <%}else{ %>
                    <tbody>
                        <tr>
                            No categories
                        </tr>
                    </tbody>
                    <%} %>
                </table>
            </div>
            </form>
            <%if(typeof(categories) != 'undefined'){%>
            <div>
                <ul class="pagination">
                    <li class="page-item">
                    <a class="page-link" href="#">&laquo;</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">&raquo;</a>
                    </li>
                </ul>
            </div>
            <%}%>
        </div>
    </div>
</div>